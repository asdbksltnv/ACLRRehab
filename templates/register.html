{% extends "base.html" %}

{% block content %}
  <section class="section auth">
    <div class="card auth-card">
      <h2 data-i18n="registerTitle">Ro'yxatdan o'tish</h2>
      <p data-i18n="registerSub">Operatsiya sanasi va protokolni keyinroq ham tahrirlashingiz mumkin.</p>
      {% if error_key %}
        <div class="alert danger" data-i18n="{{ error_key }}">{{ error_message }}</div>
      {% endif %}
      <form method="post" class="auth-form">
        <div class="form-field">
          <label data-i18n="labelEmail">Email</label>
          <input type="email" name="email" required />
        </div>
        <div class="form-field">
          <label data-i18n="labelPassword">Parol</label>
          <input type="password" name="password" required />
        </div>
        <div class="form-field">
          <label data-i18n="labelSurgeryDate">Operatsiya sanasi</label>
          <input type="date" name="surgery_date" />
        </div>
        <div class="form-field">
          <label data-i18n="labelPostopWeek">Post-op hafta (qo'lda)</label>
          <input type="number" name="postop_week" min="1" placeholder="1" />
        </div>
        <div class="form-field">
          <label data-i18n="labelProtocol">Protokol</label>
          <select name="protocol_id" data-protocol-select>
            <option value="">â€”</option>
            {% for protocol in protocol_options %}
              <option
                value="{{ protocol.id }}"
                data-label-uz="{{ protocol.name_uz }}"
                data-label-ru="{{ protocol.name_ru }}"
              >
                {{ protocol.name_uz }}
              </option>
            {% endfor %}
          </select>
        </div>
        <div class="form-actions">
          <button class="btn primary" type="submit" data-i18n="registerButton">Ro'yxatdan o'tish</button>
          <a class="btn ghost" href="{{ url_for('login') }}" data-i18n="loginLink">Kirish</a>
        </div>
      </form>
    </div>
  </section>
{% endblock %}
